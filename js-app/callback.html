<!DOCTYPE html>
<html>

<body>
    <script>
        (function () {
            function getData(callback){
                console.log("getting data");
                console.log("taking some time");
                var r=Math.random(10)*10;
                if(r>=5){
                    callback({
                        result:"success "+r
                    });
                }
                else{
                    callback({
                        error:"number is less than 5"
                    });
                }
            }
            getData(handlerResponseData);
            function handlerResponseData(data){
                console.log(data);
                console.log("display data in view");
                if(data.error){
                    console.log("error "+data.error);
                }
                else{
                    console.log("result "+data.result);
                }
            }


        })();
    </script>
</body>

</html>